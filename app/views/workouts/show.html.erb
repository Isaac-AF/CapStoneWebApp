<div class="container my-5">
  <div class="row mb-4 align-items-center">

    <div class="col-12 col-md-2 mb-2 mb-md-0">
      <a href="/users/<%= current_user.id %>" class="btn btn-outline-secondary w-100 w-md-auto">
        &larr; Back
      </a>
    </div>

    <div class="col-12 col-md-10 text-center text-md-start">
      <h1 class="mb-0">Daily Workout Log</h1>
    </div>
  </div>

  <div class="d-flex justify-content-center align-items-center mb-4 flex-wrap">
    <a href="/workouts/<%= (Date.parse(params.fetch("date")) - 1) %>/<%= current_user.id %>" class="btn btn-outline-primary me-3 mb-2">
      ⬅️ Previous Day
    </a>

    <strong class="fs-5 mb-2"><%= Date.parse(params.fetch("date")).strftime("%B %-d") %></strong>

    <a href="/workouts/<%= (Date.parse(params.fetch("date")) + 1) %>/<%= current_user.id %>" class="btn btn-outline-primary ms-3 mb-2">
      Next Day ➡️
    </a>
  </div>

  <div class="table-responsive">
    <table class="table table-bordered align-middle text-center">
      <thead class="table-light">
        <tr>
          <th scope="col">Date & Time</th>
          <th scope="col">Workout Type</th>
          <th scope="col">Calories Burned</th>
          <th scope="col">Rating</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @matching_workouts.each do |a_workout| %>
          <tr>
            <form action="/modify_workout/<%= a_workout.id %>" method="post">
              <td>
                <input type="datetime-local" class="form-control" name="query_date_time" value="<%= a_workout.workout_datetime.strftime('%Y-%m-%dT%H:%M') %>">
              </td>
              <td>
                <input type="text" class="form-control" name="query_workout_type" value="<%= a_workout.workout_type %>">
              </td>
              <td>
                <input type="text" class="form-control" name="query_calories" value="<%= a_workout.calories_burned %>">
              </td>
              <td>
                <input type="text" class="form-control" name="query_rating" value="<%= a_workout.rating %>">
              </td>
              <td>
                <input type="hidden" name="user_id" value="<%= a_workout.user_id %>">
                <div class="d-flex flex-column gap-2">
                  <button type="submit" class="btn btn-success btn-sm w-100">Save</button>
                  <a href="/delete_workout/<%= a_workout.id %>" class="btn btn-danger btn-sm w-100">Delete</a>
                </div>
              </td>
            </form>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
